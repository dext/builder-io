"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const f=require("react/jsx-runtime"),o=require("react"),d=require("./server-entry-334bd314.cjs"),F=require("./blocks-exports.cjs"),C=require("./blocks-9540fa52.cjs");require("./get-class-prop-name-09ef31b8.cjs");const O={name:"Core:Button",image:"https://cdn.builder.io/api/v1/image/assets%2FIsxPKMo2gPRRKeakUztj1D6uqed2%2F81a15681c3e74df09677dfc57a615b13",defaultStyles:{appearance:"none",paddingTop:"15px",paddingBottom:"15px",paddingLeft:"25px",paddingRight:"25px",backgroundColor:"#000000",color:"white",borderRadius:"4px",textAlign:"center",cursor:"pointer"},inputs:[{name:"text",type:"text",defaultValue:"Click me!",bubble:!0},{name:"link",type:"url",bubble:!0},{name:"openLinkInNewTab",type:"boolean",defaultValue:!1,friendlyName:"Open link in new tab"}],static:!0,noWrap:!0},J=o.lazy(()=>Promise.resolve().then(()=>require("./button-f0638657.cjs"))),Y={name:"Columns",isRSC:!0,inputs:[{name:"columns",type:"array",broadcast:!0,subFields:[{name:"blocks",type:"array",hideFromUI:!0,defaultValue:[{"@type":"@builder.io/sdk:Element",responsiveStyles:{large:{display:"flex",flexDirection:"column",alignItems:"stretch",flexShrink:"0",position:"relative",marginTop:"30px",textAlign:"center",lineHeight:"normal",height:"auto",minHeight:"20px",minWidth:"20px",overflow:"hidden"}},component:{name:"Image",options:{image:"https://builder.io/api/v1/image/assets%2Fpwgjf0RoYWbdnJSbpBAjXNRMe9F2%2Ffb27a7c790324294af8be1c35fe30f4d",backgroundPosition:"center",backgroundSize:"cover",aspectRatio:.7004048582995948}}},{"@type":"@builder.io/sdk:Element",responsiveStyles:{large:{display:"flex",flexDirection:"column",alignItems:"stretch",flexShrink:"0",position:"relative",marginTop:"30px",textAlign:"center",lineHeight:"normal",height:"auto"}},component:{name:"Text",options:{text:"<p>Enter some text...</p>"}}}]},{name:"width",type:"number",hideFromUI:!0,helperText:"Width %, e.g. set to 50 to fill half of the space"},{name:"link",type:"url",helperText:"Optionally set a url that clicking this column will link to"}],defaultValue:[{blocks:[{"@type":"@builder.io/sdk:Element",responsiveStyles:{large:{display:"flex",flexDirection:"column",alignItems:"stretch",flexShrink:"0",position:"relative",marginTop:"30px",textAlign:"center",lineHeight:"normal",height:"auto",minHeight:"20px",minWidth:"20px",overflow:"hidden"}},component:{name:"Image",options:{image:"https://builder.io/api/v1/image/assets%2Fpwgjf0RoYWbdnJSbpBAjXNRMe9F2%2Ffb27a7c790324294af8be1c35fe30f4d",backgroundPosition:"center",backgroundSize:"cover",aspectRatio:.7004048582995948}}},{"@type":"@builder.io/sdk:Element",responsiveStyles:{large:{display:"flex",flexDirection:"column",alignItems:"stretch",flexShrink:"0",position:"relative",marginTop:"30px",textAlign:"center",lineHeight:"normal",height:"auto"}},component:{name:"Text",options:{text:"<p>Enter some text...</p>"}}}]},{blocks:[{"@type":"@builder.io/sdk:Element",responsiveStyles:{large:{display:"flex",flexDirection:"column",alignItems:"stretch",flexShrink:"0",position:"relative",marginTop:"30px",textAlign:"center",lineHeight:"normal",height:"auto",minHeight:"20px",minWidth:"20px",overflow:"hidden"}},component:{name:"Image",options:{image:"https://builder.io/api/v1/image/assets%2Fpwgjf0RoYWbdnJSbpBAjXNRMe9F2%2Ffb27a7c790324294af8be1c35fe30f4d",backgroundPosition:"center",backgroundSize:"cover",aspectRatio:.7004048582995948}}},{"@type":"@builder.io/sdk:Element",responsiveStyles:{large:{display:"flex",flexDirection:"column",alignItems:"stretch",flexShrink:"0",position:"relative",marginTop:"30px",textAlign:"center",lineHeight:"normal",height:"auto"}},component:{name:"Text",options:{text:"<p>Enter some text...</p>"}}}]}],onChange:e=>{function t(){n.forEach(a=>{a.delete("width")})}const n=e.get("columns");Array.isArray(n)&&n.find(u=>u.get("width"))&&(n.find(h=>!h.get("width"))||n.reduce((r,p)=>r+p.get("width"),0)!==100)&&t()}},{name:"space",type:"number",defaultValue:20,helperText:"Size of gap between columns",advanced:!0},{name:"stackColumnsAt",type:"string",defaultValue:"tablet",helperText:"Convert horizontal columns to vertical at what device size",enum:["tablet","mobile","never"],advanced:!0},{name:"reverseColumnsWhenStacked",type:"boolean",defaultValue:!1,helperText:"When stacking columns for mobile devices, reverse the ordering",advanced:!0}]},G={name:"Fragment",static:!0,hidden:!0,canHaveChildren:!0,noWrap:!0},Q=o.lazy(()=>Promise.resolve().then(()=>require("./fragment-b6e3a326.cjs"))),X={name:"Image",static:!0,image:"https://firebasestorage.googleapis.com/v0/b/builder-3b0a2.appspot.com/o/images%2Fbaseline-insert_photo-24px.svg?alt=media&token=4e5d0ef4-f5e8-4e57-b3a9-38d63a9b9dc4",defaultStyles:{position:"relative",minHeight:"20px",minWidth:"20px",overflow:"hidden"},canHaveChildren:!0,inputs:[{name:"image",type:"file",bubble:!0,allowedFileTypes:["jpeg","jpg","png","svg"],required:!0,defaultValue:"https://cdn.builder.io/api/v1/image/assets%2FYJIGb4i01jvw0SRdL5Bt%2F72c80f114dc149019051b6852a9e3b7a",onChange:e=>{e.delete("srcset"),e.delete("noWebp");function n(i,r=6e4){return new Promise((p,I)=>{const x=document.createElement("img");let w=!1;x.onload=()=>{w=!0,p(x)},x.addEventListener("error",k=>{console.warn("Image load failed",k.error),I(k.error)}),x.src=i,setTimeout(()=>{w||I(new Error("Image load timed out"))},r)})}function a(i){return Math.round(i*1e3)/1e3}const u=e.get("image"),h=e.get("aspectRatio");if(fetch(u).then(i=>i.blob()).then(i=>{i.type.includes("svg")&&e.set("noWebp",!0)}),u&&(!h||h===.7041))return n(u).then(i=>{const r=e.get("aspectRatio");e.get("image")===u&&(!r||r===.7041)&&i.width&&i.height&&(e.set("aspectRatio",a(i.height/i.width)),e.set("height",i.height),e.set("width",i.width))})}},{name:"backgroundSize",type:"text",defaultValue:"cover",enum:[{label:"contain",value:"contain",helperText:"The image should never get cropped"},{label:"cover",value:"cover",helperText:"The image should fill it's box, cropping when needed"}]},{name:"backgroundPosition",type:"text",defaultValue:"center",enum:["center","top","left","right","bottom","top left","top right","bottom left","bottom right"]},{name:"altText",type:"string",helperText:"Text to display when the user has images off"},{name:"height",type:"number",hideFromUI:!0},{name:"width",type:"number",hideFromUI:!0},{name:"sizes",type:"string",hideFromUI:!0},{name:"srcset",type:"string",hideFromUI:!0},{name:"lazy",type:"boolean",defaultValue:!0,hideFromUI:!0},{name:"fitContent",type:"boolean",helperText:"When child blocks are provided, fit to them instead of using the image's aspect ratio",defaultValue:!0},{name:"aspectRatio",type:"number",helperText:"This is the ratio of height/width, e.g. set to 1.5 for a 300px wide and 200px tall photo. Set to 0 to not force the image to maintain it's aspect ratio",advanced:!0,defaultValue:.7041}]},Z=o.lazy(()=>Promise.resolve().then(()=>require("./image-ee3dd857.cjs"))),ee={name:"Core:Section",static:!0,image:"https://cdn.builder.io/api/v1/image/assets%2FIsxPKMo2gPRRKeakUztj1D6uqed2%2F682efef23ace49afac61748dd305c70a",inputs:[{name:"maxWidth",type:"number",defaultValue:1200},{name:"lazyLoad",type:"boolean",defaultValue:!1,advanced:!0,description:"Only render this section when in view"}],defaultStyles:{paddingLeft:"20px",paddingRight:"20px",paddingTop:"50px",paddingBottom:"50px",marginTop:"0px",width:"100vw",marginLeft:"calc(50% - 50vw)"},canHaveChildren:!0,defaultChildren:[{"@type":"@builder.io/sdk:Element",responsiveStyles:{large:{textAlign:"center"}},component:{name:"Text",options:{text:"<p><b>I am a section! My content keeps from getting too wide, so that it's easy to read even on big screens.</b></p><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur</p>"}}}]},te=o.lazy(()=>Promise.resolve().then(()=>require("./section-d655ea14.cjs"))),ne={name:"Slot",isRSC:!0,description:"Allow child blocks to be inserted into this content when used as a Symbol",docsLink:"https://www.builder.io/c/docs/symbols-with-blocks",image:"https://cdn.builder.io/api/v1/image/assets%2FYJIGb4i01jvw0SRdL5Bt%2F3aad6de36eae43b59b52c85190fdef56",inputs:[{name:"name",type:"string",required:!0,defaultValue:"children"}]},ae=o.lazy(()=>Promise.resolve().then(()=>require("./slot-49f4be56.cjs"))),ie={name:"Symbol",noWrap:!0,static:!0,isRSC:!0,inputs:[{name:"symbol",type:"uiSymbol"},{name:"dataOnly",helperText:"Make this a data symbol that doesn't display any UI",type:"boolean",defaultValue:!1,advanced:!0,hideFromUI:!0},{name:"inheritState",helperText:"Inherit the parent component state and data",type:"boolean",defaultValue:!1,advanced:!0},{name:"renderToLiquid",helperText:"Render this symbols contents to liquid. Turn off to fetch with javascript and use custom targeting",type:"boolean",defaultValue:!1,advanced:!0,hideFromUI:!0},{name:"useChildren",hideFromUI:!0,type:"boolean"}]},oe={name:"Text",static:!0,isRSC:!0,image:"https://firebasestorage.googleapis.com/v0/b/builder-3b0a2.appspot.com/o/images%2Fbaseline-text_fields-24px%20(1).svg?alt=media&token=12177b73-0ee3-42ca-98c6-0dd003de1929",inputs:[{name:"text",type:"html",required:!0,autoFocus:!0,bubble:!0,defaultValue:"Enter some text..."}],defaultStyles:{lineHeight:"normal",height:"auto",textAlign:"center"}},re={name:"Custom Code",static:!0,requiredPermissions:["editCode"],inputs:[{name:"code",type:"html",required:!0,defaultValue:"<p>Hello there, I am custom HTML code!</p>",code:!0},{name:"replaceNodes",type:"boolean",helperText:"Preserve server rendered dom nodes",advanced:!0},{name:"scriptsClientOnly",type:"boolean",defaultValue:!1,helperText:"Only print and run scripts on the client. Important when scripts influence DOM that could be replaced when client loads",advanced:!0}]},se=o.lazy(()=>Promise.resolve().then(()=>require("./custom-code-6d9730ff.cjs"))),le={name:"Embed",static:!0,inputs:[{name:"url",type:"url",required:!0,defaultValue:"",helperText:"e.g. enter a youtube url, google map, etc",onChange:e=>{const t=e.get("url");if(t)return e.set("content","Loading..."),fetch(`https://iframe.ly/api/iframely?url=${t}&api_key=ae0e60e78201a3f2b0de4b`).then(a=>a.json()).then(a=>{e.get("url")===t&&(a.html?e.set("content",a.html):e.set("content","Invalid url, please try another"))}).catch(a=>{e.set("content","There was an error embedding this URL, please try again or another URL")});e.delete("content")}},{name:"content",type:"html",defaultValue:'<div style="padding: 20px; text-align: center">(Choose an embed URL)<div>',hideFromUI:!0}]},de=o.lazy(()=>Promise.resolve().then(()=>require("./embed-32bdd007.cjs"))),ce={name:"Form:Form",defaults:{responsiveStyles:{large:{marginTop:"15px",paddingBottom:"15px"}}},image:"https://cdn.builder.io/api/v1/image/assets%2FIsxPKMo2gPRRKeakUztj1D6uqed2%2Fef36d2a846134910b64b88e6d18c5ca5",inputs:[{name:"sendSubmissionsTo",type:"string",enum:[{label:"Send to email",value:"email",helperText:"Send form submissions to the email address of your choosing"},{label:"Custom",value:"custom",helperText:"Handle where the form requests go manually with a little code, e.g. to your own custom backend"}],defaultValue:"email"},{name:"sendSubmissionsToEmail",type:"string",required:!0,defaultValue:"your@email.com",showIf:'options.get("sendSubmissionsTo") === "email"'},{name:"sendWithJs",type:"boolean",helperText:"Set to false to use basic html form action",defaultValue:!0,showIf:'options.get("sendSubmissionsTo") === "custom"'},{name:"name",type:"string",defaultValue:"My form"},{name:"action",type:"string",helperText:"URL to send the form data to",showIf:'options.get("sendSubmissionsTo") === "custom"'},{name:"contentType",type:"string",defaultValue:"application/json",advanced:!0,enum:["application/json","multipart/form-data","application/x-www-form-urlencoded"],showIf:'options.get("sendSubmissionsTo") === "custom" && options.get("sendWithJs") === true'},{name:"method",type:"string",showIf:'options.get("sendSubmissionsTo") === "custom"',defaultValue:"POST",advanced:!0},{name:"previewState",type:"string",enum:["unsubmitted","sending","success","error"],defaultValue:"unsubmitted",helperText:'Choose a state to edit, e.g. choose "success" to show what users see on success and edit the message',showIf:'options.get("sendSubmissionsTo") !== "zapier" && options.get("sendWithJs") === true'},{name:"successUrl",type:"url",helperText:"Optional URL to redirect the user to on form submission success",showIf:'options.get("sendSubmissionsTo") !== "zapier" && options.get("sendWithJs") === true'},{name:"resetFormOnSubmit",type:"boolean",showIf:"options.get('sendSubmissionsTo') === 'custom' && options.get('sendWithJs') === true",advanced:!0},{name:"successMessage",type:"uiBlocks",hideFromUI:!0,defaultValue:[{"@type":"@builder.io/sdk:Element",responsiveStyles:{large:{marginTop:"10px"}},component:{name:"Text",options:{text:"<span>Thanks!</span>"}}}]},{name:"validate",type:"boolean",defaultValue:!0,advanced:!0},{name:"errorMessagePath",type:"text",advanced:!0,helperText:'Path to where to get the error message from in a JSON response to display to the user, e.g. "error.message" for a response like { "error": { "message": "this username is taken" }}'},{name:"errorMessage",type:"uiBlocks",hideFromUI:!0,defaultValue:[{"@type":"@builder.io/sdk:Element",responsiveStyles:{large:{marginTop:"10px"}},bindings:{"component.options.text":"state.formErrorMessage || block.component.options.text"},component:{name:"Text",options:{text:"<span>Form submission error :( Please check your answers and try again</span>"}}}]},{name:"sendingMessage",type:"uiBlocks",hideFromUI:!0,defaultValue:[{"@type":"@builder.io/sdk:Element",responsiveStyles:{large:{marginTop:"10px"}},component:{name:"Text",options:{text:"<span>Sending...</span>"}}}]},{name:"customHeaders",type:"map",valueType:{type:"string"},advanced:!0,showIf:'options.get("sendSubmissionsTo") === "custom" && options.get("sendWithJs") === true'}],noWrap:!0,canHaveChildren:!0,defaultChildren:[{"@type":"@builder.io/sdk:Element",responsiveStyles:{large:{marginTop:"10px"}},component:{name:"Text",options:{text:"<span>Enter your name</span>"}}},{"@type":"@builder.io/sdk:Element",responsiveStyles:{large:{marginTop:"10px"}},component:{name:"Form:Input",options:{name:"name",placeholder:"Jane Doe"}}},{"@type":"@builder.io/sdk:Element",responsiveStyles:{large:{marginTop:"10px"}},component:{name:"Text",options:{text:"<span>Enter your email</span>"}}},{"@type":"@builder.io/sdk:Element",responsiveStyles:{large:{marginTop:"10px"}},component:{name:"Form:Input",options:{name:"email",placeholder:"jane@doe.com"}}},{"@type":"@builder.io/sdk:Element",responsiveStyles:{large:{marginTop:"10px"}},component:{name:"Form:SubmitButton",options:{text:"Submit"}}}]},ue=o.lazy(()=>Promise.resolve().then(()=>require("./form-07b04662.cjs"))),me={name:"Form:Input",image:"https://cdn.builder.io/api/v1/image/assets%2FIsxPKMo2gPRRKeakUztj1D6uqed2%2Fad6f37889d9e40bbbbc72cdb5875d6ca",inputs:[{name:"type",type:"text",enum:["text","number","email","url","checkbox","radio","range","date","datetime-local","search","tel","time","file","month","week","password","color","hidden"],defaultValue:"text"},{name:"name",type:"string",required:!0,helperText:'Every input in a form needs a unique name describing what it takes, e.g. "email"'},{name:"placeholder",type:"string",defaultValue:"Hello there",helperText:"Text to display when there is no value"},{name:"defaultValue",type:"string"},{name:"value",type:"string",advanced:!0},{name:"required",type:"boolean",helperText:"Is this input required to be filled out to submit a form",defaultValue:!1}],noWrap:!0,static:!0,defaultStyles:{paddingTop:"10px",paddingBottom:"10px",paddingLeft:"10px",paddingRight:"10px",borderRadius:"3px",borderWidth:"1px",borderStyle:"solid",borderColor:"#ccc"}},pe=o.lazy(()=>Promise.resolve().then(()=>require("./input-15450fb3.cjs"))),ge={name:"Form:Select",image:"https://cdn.builder.io/api/v1/image/assets%2FIsxPKMo2gPRRKeakUztj1D6uqed2%2F83acca093fb24aaf94dee136e9a4b045",defaultStyles:{alignSelf:"flex-start"},inputs:[{name:"options",type:"list",required:!0,subFields:[{name:"value",type:"text",required:!0},{name:"name",type:"text"}],defaultValue:[{value:"option 1"},{value:"option 2"}]},{name:"name",type:"string",required:!0,helperText:'Every select in a form needs a unique name describing what it gets, e.g. "email"'},{name:"defaultValue",type:"string"},{name:"value",type:"string",advanced:!0},{name:"required",type:"boolean",defaultValue:!1}],static:!0,noWrap:!0},fe=o.lazy(()=>Promise.resolve().then(()=>require("./select-7f2ce203.cjs"))),he={name:"Form:SubmitButton",image:"https://cdn.builder.io/api/v1/image/assets%2FIsxPKMo2gPRRKeakUztj1D6uqed2%2Fdf2820ffed1f4349a94c40b3221f5b98",defaultStyles:{appearance:"none",paddingTop:"15px",paddingBottom:"15px",paddingLeft:"25px",paddingRight:"25px",backgroundColor:"#3898EC",color:"white",borderRadius:"4px",cursor:"pointer"},inputs:[{name:"text",type:"text",defaultValue:"Click me"}],static:!0,noWrap:!0},be=o.lazy(()=>Promise.resolve().then(()=>require("./submit-button-b363e0ed.cjs"))),ye={name:"Raw:Img",hideFromInsertMenu:!0,image:"https://firebasestorage.googleapis.com/v0/b/builder-3b0a2.appspot.com/o/images%2Fbaseline-insert_photo-24px.svg?alt=media&token=4e5d0ef4-f5e8-4e57-b3a9-38d63a9b9dc4",inputs:[{name:"image",bubble:!0,type:"file",allowedFileTypes:["jpeg","jpg","png","svg","gif","webp"],required:!0}],noWrap:!0,static:!0},xe=o.lazy(()=>Promise.resolve().then(()=>require("./img-c74027cc.cjs"))),ve={name:"Video",canHaveChildren:!0,defaultStyles:{minHeight:"20px",minWidth:"20px"},image:"https://firebasestorage.googleapis.com/v0/b/builder-3b0a2.appspot.com/o/images%2Fbaseline-videocam-24px%20(1).svg?alt=media&token=49a84e4a-b20e-4977-a650-047f986874bb",inputs:[{name:"video",type:"file",allowedFileTypes:["mp4"],bubble:!0,defaultValue:"https://cdn.builder.io/o/assets%2FYJIGb4i01jvw0SRdL5Bt%2Fd27731a526464deba0016216f5f9e570%2Fcompressed?apiKey=YJIGb4i01jvw0SRdL5Bt&token=d27731a526464deba0016216f5f9e570&alt=media&optimized=true",required:!0},{name:"posterImage",type:"file",allowedFileTypes:["jpeg","png"],helperText:"Image to show before the video plays"},{name:"autoPlay",type:"boolean",defaultValue:!0},{name:"controls",type:"boolean",defaultValue:!1},{name:"muted",type:"boolean",defaultValue:!0},{name:"loop",type:"boolean",defaultValue:!0},{name:"playsInline",type:"boolean",defaultValue:!0},{name:"fit",type:"text",defaultValue:"cover",enum:["contain","cover","fill","auto"]},{name:"preload",type:"text",defaultValue:"metadata",enum:["auto","metadata","none"]},{name:"fitContent",type:"boolean",helperText:"When child blocks are provided, fit to them instead of using the aspect ratio",defaultValue:!0,advanced:!0},{name:"position",type:"text",defaultValue:"center",enum:["center","top","left","right","bottom","top left","top right","bottom left","bottom right"]},{name:"height",type:"number",advanced:!0},{name:"width",type:"number",advanced:!0},{name:"aspectRatio",type:"number",advanced:!0,defaultValue:.7004048582995948},{name:"lazyLoad",type:"boolean",helperText:'Load this video "lazily" - as in only when a user scrolls near the video. Recommended for optmized performance and bandwidth consumption',defaultValue:!0,advanced:!0}]},Se=o.lazy(()=>Promise.resolve().then(()=>require("./video-e20dcbbc.cjs"))),Ie=()=>[{component:se,...re},{component:de,...le},{component:ue,...ce},{component:pe,...me},{component:be,...he},{component:fe,...ge},{component:xe,...ye},{component:Se,...ve}],$=()=>[{component:J,...O},{component:F.Columns,...Y},{component:Q,...G},{component:Z,...X},{component:te,...ee},{component:ae,...ne},{component:F.Symbol,...ie},{component:F.Text,...oe},...Ie()],ke=`function updateCookiesAndStyles(contentId, variants, isHydrationTarget) {
  function getAndSetVariantId() {
    function setCookie(name, value, days) {
      let expires = '';
      if (days) {
        const date = new Date();
        date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000);
        expires = '; expires=' + date.toUTCString();
      }
      document.cookie = name + '=' + (value || '') + expires + '; path=/' + '; Secure; SameSite=None';
    }
    function getCookie(name) {
      const nameEQ = name + '=';
      const ca = document.cookie.split(';');
      for (let i = 0; i < ca.length; i++) {
        let c = ca[i];
        while (c.charAt(0) === ' ') c = c.substring(1, c.length);
        if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length, c.length);
      }
      return null;
    }
    const cookieName = \`builder.tests.\${contentId}\`;
    const variantInCookie = getCookie(cookieName);
    const availableIDs = variants.map(vr => vr.id).concat(contentId);
    if (variantInCookie && availableIDs.includes(variantInCookie)) {
      return variantInCookie;
    }
    let n = 0;
    const random = Math.random();
    for (let i = 0; i < variants.length; i++) {
      const variant = variants[i];
      const testRatio = variant.testRatio;
      n += testRatio;
      if (random < n) {
        setCookie(cookieName, variant.id);
        return variant.id;
      }
    }
    setCookie(cookieName, contentId);
    return contentId;
  }
  const winningVariantId = getAndSetVariantId();
  const styleEl = document.currentScript?.previousElementSibling;
  if (isHydrationTarget) {
    styleEl.remove();
    const thisScriptEl = document.currentScript;
    thisScriptEl?.remove();
  } else {
    const newStyleStr = variants.concat({
      id: contentId
    }).filter(variant => variant.id !== winningVariantId).map(value => {
      return \`.variant-\${value.id} {  display: none; }
        \`;
    }).join('');
    styleEl.innerHTML = newStyleStr;
  }
}`,Te=`function updateVariantVisibility(variantContentId, defaultContentId, isHydrationTarget) {
  if (!navigator.cookieEnabled) {
    return;
  }
  function getCookie(name) {
    const nameEQ = name + '=';
    const ca = document.cookie.split(';');
    for (let i = 0; i < ca.length; i++) {
      let c = ca[i];
      while (c.charAt(0) === ' ') c = c.substring(1, c.length);
      if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length, c.length);
    }
    return null;
  }
  const cookieName = \`builder.tests.\${defaultContentId}\`;
  const winningVariant = getCookie(cookieName);
  const parentDiv = document.currentScript?.parentElement;
  const isDefaultContent = variantContentId === defaultContentId;
  const isWinningVariant = winningVariant === variantContentId;
  if (isWinningVariant && !isDefaultContent) {
    parentDiv?.removeAttribute('hidden');
    parentDiv?.removeAttribute('aria-hidden');
  } else if (!isWinningVariant && isDefaultContent) {
    parentDiv?.setAttribute('hidden', 'true');
    parentDiv?.setAttribute('aria-hidden', 'true');
  }
  if (isHydrationTarget) {
    if (!isWinningVariant) {
      parentDiv?.remove();
    }
    const thisScriptEl = document.currentScript;
    thisScriptEl?.remove();
  }
  return;
}`,K="builderIoAbTest",_="builderIoRenderContent",P=e=>Object.values((e==null?void 0:e.variations)||{}).map(t=>({...t,testVariationId:t.id,id:e==null?void 0:e.id})),Ce=({canTrack:e,content:t})=>!(!(P(t).length>0)||!e||d.isBrowser()),we=e=>e==="react"||e==="reactNative",B=we(d.TARGET),Ve=()=>`
  window.${K} = ${ke}
  window.${_} = ${Te}
  `,Ee=(e,t)=>`
  window.${K}(
    "${t}",${JSON.stringify(e)}, ${B}
  )`,Re=({contentId:e,variationId:t})=>`window.${_}(
    "${t}", "${e}", ${B}
  )`;function W(e){return f.jsx("script",{dangerouslySetInnerHTML:{__html:e.scriptStr},"data-id":e.id})}function L(e){return Math.round(e*1e3)/1e3}const Pe=(e,t,n=!0)=>{if(!(e instanceof HTMLElement))return null;let a=n?e:e.parentElement;do{if(!a)return null;if(t(a))return a}while(a=a.parentElement);return null},Fe=e=>Pe(e,t=>{const n=t.getAttribute("builder-id")||t.id;return(n==null?void 0:n.indexOf("builder-"))===0}),N=({event:e,target:t})=>{const n=t.getBoundingClientRect(),a=e.clientX-n.left,u=e.clientY-n.top,h=L(a/n.width),i=L(u/n.height);return{x:h,y:i}},We=e=>{const t=e.target,n=t&&Fe(t),a=(n==null?void 0:n.getAttribute("builder-id"))||(n==null?void 0:n.id);return{targetBuilderElement:a||void 0,metadata:{targetOffset:t?N({event:e,target:t}):void 0,builderTargetOffset:n?N({event:e,target:n}):void 0,builderElementIndex:n&&a?[].slice.call(document.getElementsByClassName(a)).indexOf(n):void 0}}};function Ae(e){var T,A,q,j,U,D,H;const t=o.useRef(null);function n(s){var g,c;const m={...e.builderContextSignal.rootState,...s};e.builderContextSignal.rootSetState?(c=(g=e.builderContextSignal).rootSetState)==null||c.call(g,m):e.setBuilderContextSignal(l=>({...l,rootState:m}))}function a(s){var g,c,l,b,V;const m={...e.builderContextSignal.content,...s,data:{...(g=e.builderContextSignal.content)==null?void 0:g.data,...s==null?void 0:s.data},meta:{...(c=e.builderContextSignal.content)==null?void 0:c.meta,...s==null?void 0:s.meta,breakpoints:((l=s==null?void 0:s.meta)==null?void 0:l.breakpoints)||((V=(b=e.builderContextSignal.content)==null?void 0:b.meta)==null?void 0:V.breakpoints)}};e.setBuilderContextSignal(S=>({...S,content:m}))}const[u,h]=o.useState(()=>e.contentWrapper||"div");function i(s){return d.createEditorListener({model:e.model,trustedHosts:e.trustedHosts,callbacks:{configureSdk:m=>{var l;const{breakpoints:g,contentId:c}=m;!c||c!==((l=e.builderContextSignal.content)==null?void 0:l.id)||g&&a({meta:{breakpoints:g}})},animation:m=>{C.triggerAnimation(m)},contentUpdate:m=>{a(m)}}})(s)}function r(){var m,g;const s=(g=(m=e.builderContextSignal.content)==null?void 0:m.data)==null?void 0:g.jsCode;s&&C.evaluate({code:s,context:e.context||{},localState:void 0,rootState:e.builderContextSignal.rootState,rootSetState:e.builderContextSignal.rootSetState,enableCache:!1})}const[p,I]=o.useState(()=>({})),[x,w]=o.useState(()=>({})),[k,E]=o.useState(()=>!1);function R(s){var m,g;if(e.builderContextSignal.content){const c=(m=e.builderContextSignal.content)==null?void 0:m.testVariationId,l=(g=e.builderContextSignal.content)==null?void 0:g.id;d._track({type:"click",canTrack:d.getDefaultCanTrack(e.canTrack),contentId:l,apiKey:e.apiKey,variationId:c!==l?c:void 0,...We(s),unique:!k})}k||E(!0)}function v(){var m,g,c;const s=(c=(g=(m=e.builderContextSignal.content)==null?void 0:m.data)==null?void 0:g.httpRequests)!=null?c:{};Object.entries(s).forEach(([l,b])=>{if(!b||x[l]||p[l]&&!d.isEditing())return;x[l]=!0;const V=b.replace(/{{([^}]+)}}/g,(S,M)=>String(C.evaluate({code:M,context:e.context||{},localState:void 0,rootState:e.builderContextSignal.rootState,rootSetState:e.builderContextSignal.rootSetState,enableCache:!0})));d.fetch(V).then(S=>S.json()).then(S=>{n({[l]:S}),p[l]=!0}).catch(S=>{console.error("error fetching dynamic data",b,S)}).finally(()=>{x[l]=!1})})}function y(){d.isEditing()&&window.dispatchEvent(new CustomEvent("builder:component:stateChange",{detail:{state:d.fastClone(e.builderContextSignal.rootState),ref:{name:e.model}}}))}return o.useEffect(()=>{var s,m;if(d.isBrowser()){if(d.isEditing()&&(window.addEventListener("message",i),d.setupBrowserForEditing({...e.locale?{locale:e.locale}:{},...e.enrich?{enrich:e.enrich}:{},...e.trustedHosts?{trustedHosts:e.trustedHosts}:{}}),Object.values(e.builderContextSignal.componentInfos).forEach(c=>{var b;const l=d.createRegisterComponentMessage(c);(b=window.parent)==null||b.postMessage(l,"*")}),window.addEventListener("builder:component:stateChangeListenerActivated",y)),e.builderContextSignal.content&&d.getDefaultCanTrack(e.canTrack)){const c=(s=e.builderContextSignal.content)==null?void 0:s.testVariationId,l=(m=e.builderContextSignal.content)==null?void 0:m.id,b=e.apiKey;d._track({type:"impression",canTrack:!0,contentId:l,apiKey:b,variationId:c!==l?c:void 0})}if(d.isPreviewing()){const c=new URL(location.href).searchParams,l=c.get("builder.preview"),b=c.get(`builder.preview.${l}`),V=c.get("apiKey")||c.get("builder.space");l===e.model&&V===e.apiKey&&(!e.content||b===e.content.id)&&d.fetchOneEntry({model:e.model,apiKey:e.apiKey,apiVersion:e.builderContextSignal.apiVersion}).then(S=>{S&&a(S)})}}},[]),o.useEffect(()=>{e.apiKey||d.logger.error("No API key provided to `RenderContent` component. This can cause issues. Please provide an API key using the `apiKey` prop."),r(),v(),y()},[]),o.useEffect(()=>{e.content&&a(e.content)},[e.content]),o.useEffect(()=>{r()},[(A=(T=e.builderContextSignal.content)==null?void 0:T.data)==null?void 0:A.jsCode]),o.useEffect(()=>{v()},[(j=(q=e.builderContextSignal.content)==null?void 0:q.data)==null?void 0:j.httpRequests]),o.useEffect(()=>{y()},[e.builderContextSignal.rootState]),o.useEffect(()=>{e.data&&n(e.data)},[e.data]),o.useEffect(()=>{e.locale&&n({locale:e.locale})},[e.locale]),o.useEffect(()=>()=>{d.isBrowser()&&(window.removeEventListener("message",i),window.removeEventListener("builder:component:stateChangeListenerActivated",y))},[]),f.jsx(C.builderContext.Provider,{value:e.builderContextSignal,children:e.builderContextSignal.content?f.jsx(u,{ref:t,onClick:s=>R(s),"builder-content-id":(U=e.builderContextSignal.content)==null?void 0:U.id,"builder-model":e.model,...e.showContent?{}:{hidden:!0,"aria-hidden":!0},...e.contentWrapperProps,className:`variant-${((D=e.content)==null?void 0:D.testVariationId)||((H=e.content)==null?void 0:H.id)}`,children:e.children}):null})}const qe=e=>{var h,i;const t=e.family+(e.kind&&!e.kind.includes("#")?", "+e.kind:""),n=t.split(",")[0],a=(i=e.fileUrl)!=null?i:(h=e==null?void 0:e.files)==null?void 0:h.regular;let u="";if(a&&t&&n&&(u+=`
@font-face {
font-family: "${t}";
src: local("${n}"), url('${a}') format('woff2');
font-display: fallback;
font-weight: 400;
}
      `.trim()),e.files)for(const r in e.files){if(!(String(Number(r))===r))continue;const I=e.files[r];I&&I!==a&&(u+=`
@font-face {
font-family: "${t}";
src: url('${I}') format('woff2');
font-display: fallback;
font-weight: ${r};
}
        `.trim())}return u},je=({customFonts:e})=>{var t;return((t=e==null?void 0:e.map(n=>qe(n)))==null?void 0:t.join(" "))||""},Ue=({cssCode:e,contentId:t})=>e?t?(e==null?void 0:e.replace(/&/g,`div[builder-content-id="${t}"]`))||"":e:"",De=`
.builder-button {
  all: unset;
}

.builder-text > p:first-of-type, .builder-text > .builder-paragraph:first-of-type {
  margin: 0;
}
.builder-text > p, .builder-text > .builder-paragraph {
  color: inherit;
  line-height: inherit;
  letter-spacing: inherit;
  font-weight: inherit;
  font-size: inherit;
  text-align: inherit;
  font-family: inherit;
}
`,He=e=>e?"":De;function $e(e){const[t,n]=o.useState(()=>`
${Ue({cssCode:e.cssCode,contentId:e.contentId})}
${je({customFonts:e.customFonts})}
${He(e.isNestedRender)}
`.trim());return f.jsx(C.InlinedStyles,{id:"builderio-content",styles:t})}const Le=({content:e,data:t,locale:n})=>{var h,i,r;const a={},u=((h=e==null?void 0:e.data)==null?void 0:h.state)||{};return(r=(i=e==null?void 0:e.data)==null?void 0:i.inputs)==null||r.forEach(p=>{p.name&&p.defaultValue!==void 0&&(a[p.name]=p.defaultValue)}),{...a,...u,...t,...n?{locale:n}:{}}},Ne=({content:e,data:t})=>e?{...e,data:{...e==null?void 0:e.data,...t},meta:e==null?void 0:e.meta}:void 0;function z(e){var p,I,x,w,k,E,R;const[t,n]=o.useState(()=>{var v,y;return Re({variationId:(v=e.content)==null?void 0:v.testVariationId,contentId:(y=e.content)==null?void 0:y.id})});function a(v){r(y=>({...y,rootState:v}))}const[u,h]=o.useState(()=>[...$(),...e.customComponents||[]].reduce((v,{component:y,...T})=>({...v,[T.name]:{component:y,...d.serializeComponentInfo(T)}}),{})),[i,r]=o.useState(()=>({content:Ne({content:e.content,data:e.data}),localState:void 0,rootState:Le({content:e.content,data:e.data,locale:e.locale}),rootSetState:a,context:e.context||{},apiKey:e.apiKey,apiVersion:e.apiVersion,componentInfos:[...$(),...e.customComponents||[]].reduce((v,{component:y,...T})=>({...v,[T.name]:d.serializeComponentInfo(T)}),{}),inheritedStyles:{},BlocksWrapper:e.blocksWrapper||"div",BlocksWrapperProps:e.blocksWrapperProps||{}}));return f.jsx(C.ComponentsContext.Provider,{value:{registeredComponents:u},children:f.jsxs(Ae,{content:e.content,data:e.data,model:e.model,context:e.context,apiKey:e.apiKey,canTrack:e.canTrack,locale:e.locale,enrich:e.enrich,showContent:e.showContent,builderContextSignal:i,contentWrapper:e.contentWrapper,contentWrapperProps:e.contentWrapperProps,linkComponent:e.linkComponent,trustedHosts:e.trustedHosts,setBuilderContextSignal:r,children:[e.isSsrAbTest?f.jsx(W,{id:"builderio-variant-visibility",scriptStr:t}):null,f.jsx($e,{isNestedRender:e.isNestedRender,contentId:(p=i.content)==null?void 0:p.id,cssCode:(x=(I=i.content)==null?void 0:I.data)==null?void 0:x.cssCode,customFonts:(k=(w=i.content)==null?void 0:w.data)==null?void 0:k.customFonts}),f.jsx(C.Blocks,{blocks:(R=(E=i.content)==null?void 0:E.data)==null?void 0:R.blocks,context:i,registeredComponents:u,linkComponent:e.linkComponent})]})})}function ze(e){var i;const[t,n]=o.useState(()=>Ce({canTrack:d.getDefaultCanTrack(e.canTrack),content:e.content}));function a(){var r;return Ee(P(e.content).map(p=>({id:p.testVariationId,testRatio:p.testRatio})),((r=e.content)==null?void 0:r.id)||"")}function u(){return P(e.content).map(r=>`.variant-${r.testVariationId} { display: none; } `).join("")}function h(){var r;return t?{...e.content,testVariationId:(r=e.content)==null?void 0:r.id}:d.handleABTestingSync({item:e.content,canTrack:d.getDefaultCanTrack(e.canTrack)})}return o.useEffect(()=>{},[]),f.jsxs(f.Fragment,{children:[!e.isNestedRender&&d.TARGET!=="reactNative"?f.jsx(W,{id:"builderio-init-variants-fns",scriptStr:Ve()}):null,t?f.jsxs(f.Fragment,{children:[f.jsx(C.InlinedStyles,{id:"builderio-variants",styles:u()}),f.jsx(W,{id:"builderio-variants-visibility",scriptStr:a()}),(i=P(e.content))==null?void 0:i.map(r=>f.jsx(z,{isNestedRender:e.isNestedRender,content:r,showContent:!1,model:e.model,data:e.data,context:e.context,apiKey:e.apiKey,apiVersion:e.apiVersion,customComponents:e.customComponents,linkComponent:e.linkComponent,canTrack:e.canTrack,locale:e.locale,enrich:e.enrich,isSsrAbTest:t,blocksWrapper:e.blocksWrapper,blocksWrapperProps:e.blocksWrapperProps,contentWrapper:e.contentWrapper,contentWrapperProps:e.contentWrapperProps,trustedHosts:e.trustedHosts},r.testVariationId))]}):null,f.jsx(z,{isNestedRender:e.isNestedRender,content:h(),showContent:!0,model:e.model,data:e.data,context:e.context,apiKey:e.apiKey,apiVersion:e.apiVersion,customComponents:e.customComponents,linkComponent:e.linkComponent,canTrack:e.canTrack,locale:e.locale,enrich:e.enrich,isSsrAbTest:t,blocksWrapper:e.blocksWrapper,blocksWrapperProps:e.blocksWrapperProps,contentWrapper:e.contentWrapper,contentWrapperProps:e.contentWrapperProps,trustedHosts:e.trustedHosts})]})}exports.default=ze;
