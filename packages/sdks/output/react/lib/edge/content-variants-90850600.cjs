"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const y=require("react/jsx-runtime"),g=require("react"),c=require("./server-entry-98f92c10.cjs"),P=require("./blocks-exports.cjs"),V=require("./blocks-e88095bc.cjs");require("./get-class-prop-name-e451848c.cjs");const z={name:"Columns",isRSC:!0,inputs:[{name:"columns",type:"array",broadcast:!0,subFields:[{name:"blocks",type:"array",hideFromUI:!0,defaultValue:[{"@type":"@builder.io/sdk:Element",responsiveStyles:{large:{display:"flex",flexDirection:"column",alignItems:"stretch",flexShrink:"0",position:"relative",marginTop:"30px",textAlign:"center",lineHeight:"normal",height:"auto",minHeight:"20px",minWidth:"20px",overflow:"hidden"}},component:{name:"Image",options:{image:"https://builder.io/api/v1/image/assets%2Fpwgjf0RoYWbdnJSbpBAjXNRMe9F2%2Ffb27a7c790324294af8be1c35fe30f4d",backgroundPosition:"center",backgroundSize:"cover",aspectRatio:.7004048582995948}}},{"@type":"@builder.io/sdk:Element",responsiveStyles:{large:{display:"flex",flexDirection:"column",alignItems:"stretch",flexShrink:"0",position:"relative",marginTop:"30px",textAlign:"center",lineHeight:"normal",height:"auto"}},component:{name:"Text",options:{text:"<p>Enter some text...</p>"}}}]},{name:"width",type:"number",hideFromUI:!0,helperText:"Width %, e.g. set to 50 to fill half of the space"},{name:"link",type:"url",helperText:"Optionally set a url that clicking this column will link to"}],defaultValue:[{blocks:[{"@type":"@builder.io/sdk:Element",responsiveStyles:{large:{display:"flex",flexDirection:"column",alignItems:"stretch",flexShrink:"0",position:"relative",marginTop:"30px",textAlign:"center",lineHeight:"normal",height:"auto",minHeight:"20px",minWidth:"20px",overflow:"hidden"}},component:{name:"Image",options:{image:"https://builder.io/api/v1/image/assets%2Fpwgjf0RoYWbdnJSbpBAjXNRMe9F2%2Ffb27a7c790324294af8be1c35fe30f4d",backgroundPosition:"center",backgroundSize:"cover",aspectRatio:.7004048582995948}}},{"@type":"@builder.io/sdk:Element",responsiveStyles:{large:{display:"flex",flexDirection:"column",alignItems:"stretch",flexShrink:"0",position:"relative",marginTop:"30px",textAlign:"center",lineHeight:"normal",height:"auto"}},component:{name:"Text",options:{text:"<p>Enter some text...</p>"}}}]},{blocks:[{"@type":"@builder.io/sdk:Element",responsiveStyles:{large:{display:"flex",flexDirection:"column",alignItems:"stretch",flexShrink:"0",position:"relative",marginTop:"30px",textAlign:"center",lineHeight:"normal",height:"auto",minHeight:"20px",minWidth:"20px",overflow:"hidden"}},component:{name:"Image",options:{image:"https://builder.io/api/v1/image/assets%2Fpwgjf0RoYWbdnJSbpBAjXNRMe9F2%2Ffb27a7c790324294af8be1c35fe30f4d",backgroundPosition:"center",backgroundSize:"cover",aspectRatio:.7004048582995948}}},{"@type":"@builder.io/sdk:Element",responsiveStyles:{large:{display:"flex",flexDirection:"column",alignItems:"stretch",flexShrink:"0",position:"relative",marginTop:"30px",textAlign:"center",lineHeight:"normal",height:"auto"}},component:{name:"Text",options:{text:"<p>Enter some text...</p>"}}}]}],onChange:e=>{function t(){n.forEach(o=>{o.delete("width")})}const n=e.get("columns");Array.isArray(n)&&n.find(u=>u.get("width"))&&(n.find(S=>!S.get("width"))||n.reduce((a,r)=>a+r.get("width"),0)!==100)&&t()}},{name:"space",type:"number",defaultValue:20,helperText:"Size of gap between columns",advanced:!0},{name:"stackColumnsAt",type:"string",defaultValue:"tablet",helperText:"Convert horizontal columns to vertical at what device size",enum:["tablet","mobile","never"],advanced:!0},{name:"reverseColumnsWhenStacked",type:"boolean",defaultValue:!1,helperText:"When stacking columns for mobile devices, reverse the ordering",advanced:!0}]},Y={name:"Slot",isRSC:!0,description:"Allow child blocks to be inserted into this content when used as a Symbol",docsLink:"https://www.builder.io/c/docs/symbols-with-blocks",image:"https://cdn.builder.io/api/v1/image/assets%2FYJIGb4i01jvw0SRdL5Bt%2F3aad6de36eae43b59b52c85190fdef56",inputs:[{name:"name",type:"string",required:!0,defaultValue:"children"}]},J=g.lazy(()=>Promise.resolve().then(()=>require("./slot-29891cbc.cjs"))),X={name:"Symbol",noWrap:!0,static:!0,isRSC:!0,inputs:[{name:"symbol",type:"uiSymbol"},{name:"dataOnly",helperText:"Make this a data symbol that doesn't display any UI",type:"boolean",defaultValue:!1,advanced:!0,hideFromUI:!0},{name:"inheritState",helperText:"Inherit the parent component state and data",type:"boolean",defaultValue:!1,advanced:!0},{name:"renderToLiquid",helperText:"Render this symbols contents to liquid. Turn off to fetch with javascript and use custom targeting",type:"boolean",defaultValue:!1,advanced:!0,hideFromUI:!0},{name:"useChildren",hideFromUI:!0,type:"boolean"}]},G={name:"Text",static:!0,isRSC:!0,image:"https://firebasestorage.googleapis.com/v0/b/builder-3b0a2.appspot.com/o/images%2Fbaseline-text_fields-24px%20(1).svg?alt=media&token=12177b73-0ee3-42ca-98c6-0dd003de1929",inputs:[{name:"text",type:"html",required:!0,autoFocus:!0,bubble:!0,defaultValue:"Enter some text..."}],defaultStyles:{lineHeight:"normal",height:"auto",textAlign:"center"}},K=()=>[{component:P.Columns,...z},{component:J,...Y},{component:P.Symbol,...X},{component:P.Text,...G}];function Q(e,t,n){var i;function o(){function a(m,h,b){let k="";if(b){const I=new Date;I.setTime(I.getTime()+b*24*60*60*1e3),k="; expires="+I.toUTCString()}document.cookie=m+"="+(h||"")+k+"; path=/; Secure; SameSite=None"}function r(m){const h=m+"=",b=document.cookie.split(";");for(let k=0;k<b.length;k++){let I=b[k];for(;I.charAt(0)===" ";)I=I.substring(1,I.length);if(I.indexOf(h)===0)return I.substring(h.length,I.length)}return null}const v=`builder.tests.${e}`,C=r(v),A=t.map(m=>m.id).concat(e);if(C&&A.includes(C))return C;let w=0;const R=Math.random();for(let m=0;m<t.length;m++){const h=t[m],b=h.testRatio;if(w+=b,R<w)return a(v,h.id),h.id}return a(v,e),e}const u=o(),S=(i=document.currentScript)==null?void 0:i.previousElementSibling;if(n){S.remove();const a=document.currentScript;a==null||a.remove()}else{const a=t.concat({id:e}).filter(r=>r.id!==u).map(r=>`.variant-${r.id} {  display: none; }
        `).join("");S.innerHTML=a}}function Z(e,t,n){var v;if(!navigator.cookieEnabled)return;function o(C){const A=C+"=",w=document.cookie.split(";");for(let R=0;R<w.length;R++){let m=w[R];for(;m.charAt(0)===" ";)m=m.substring(1,m.length);if(m.indexOf(A)===0)return m.substring(A.length,m.length)}return null}const u=`builder.tests.${t}`,S=o(u),i=(v=document.currentScript)==null?void 0:v.parentElement,a=e===t,r=S===e;if(r&&!a?(i==null||i.removeAttribute("hidden"),i==null||i.removeAttribute("aria-hidden")):!r&&a&&(i==null||i.setAttribute("hidden","true"),i==null||i.setAttribute("aria-hidden","true")),n){r||i==null||i.remove();const C=document.currentScript;C==null||C.remove()}}const ee=Q.toString().replace(/\s+/g," "),te=Z.toString().replace(/\s+/g," "),L="builderIoAbTest",B="builderIoRenderContent",p=e=>Object.values((e==null?void 0:e.variations)||{}).map(t=>({...t,testVariationId:t.id,id:e==null?void 0:e.id})),ne=({canTrack:e,content:t})=>!(!(p(t).length>0)||!e||c.isBrowser()),ie=e=>e==="react"||e==="reactNative",D=ie(c.TARGET),ae=()=>`
  window.${L} = ${ee}
  window.${B} = ${te}
  `,oe=(e,t)=>`
  window.${L}(
    "${t}",${JSON.stringify(e)}, ${D}
  )`,re=({contentId:e,variationId:t})=>`window.${B}(
    "${t}", "${e}", ${D}
  )`;function j(e){return y.jsx("script",{dangerouslySetInnerHTML:{__html:e.scriptStr},"data-id":e.id})}function U(e){return Math.round(e*1e3)/1e3}const le=(e,t,n=!0)=>{if(!(e instanceof HTMLElement))return null;let o=n?e:e.parentElement;do{if(!o)return null;if(t(o))return o}while(o=o.parentElement);return null},se=e=>le(e,t=>{const n=t.getAttribute("builder-id")||t.id;return(n==null?void 0:n.indexOf("builder-"))===0}),O=({event:e,target:t})=>{const n=t.getBoundingClientRect(),o=e.clientX-n.left,u=e.clientY-n.top,S=U(o/n.width),i=U(u/n.height);return{x:S,y:i}},ce=e=>{const t=e.target,n=t&&se(t),o=(n==null?void 0:n.getAttribute("builder-id"))||(n==null?void 0:n.id);return{targetBuilderElement:o||void 0,metadata:{targetOffset:t?O({event:e,target:t}):void 0,builderTargetOffset:n?O({event:e,target:n}):void 0,builderElementIndex:n&&o?[].slice.call(document.getElementsByClassName(o)).indexOf(n):void 0}}};function de(e){var k,I,N,$,F,H,_;const t=g.useRef(null);function n(l){var x,d;const f={...e.builderContextSignal.rootState,...l};e.builderContextSignal.rootSetState?(d=(x=e.builderContextSignal).rootSetState)==null||d.call(x,f):e.setBuilderContextSignal(s=>({...s,rootState:f}))}function o(l){var x,d,s,T,W;const f={...e.builderContextSignal.content,...l,data:{...(x=e.builderContextSignal.content)==null?void 0:x.data,...l==null?void 0:l.data},meta:{...(d=e.builderContextSignal.content)==null?void 0:d.meta,...l==null?void 0:l.meta,breakpoints:((s=l==null?void 0:l.meta)==null?void 0:s.breakpoints)||((W=(T=e.builderContextSignal.content)==null?void 0:T.meta)==null?void 0:W.breakpoints)}};e.setBuilderContextSignal(E=>({...E,content:f}))}const[u,S]=g.useState(()=>e.contentWrapper||"div");function i(l){return c.createEditorListener({model:e.model,trustedHosts:e.trustedHosts,callbacks:{configureSdk:f=>{var s;const{breakpoints:x,contentId:d}=f;!d||d!==((s=e.builderContextSignal.content)==null?void 0:s.id)||x&&o({meta:{breakpoints:x}})},animation:f=>{V.triggerAnimation(f)},contentUpdate:f=>{o(f)}}})(l)}function a(){var f,x;const l=(x=(f=e.builderContextSignal.content)==null?void 0:f.data)==null?void 0:x.jsCode;l&&V.evaluate({code:l,context:e.context||{},localState:void 0,rootState:e.builderContextSignal.rootState,rootSetState:e.builderContextSignal.rootSetState,enableCache:!1})}const[r,v]=g.useState(()=>({})),[C,A]=g.useState(()=>({})),[w,R]=g.useState(()=>!1);function m(l){var f,x;if(e.builderContextSignal.content){const d=(f=e.builderContextSignal.content)==null?void 0:f.testVariationId,s=(x=e.builderContextSignal.content)==null?void 0:x.id;c._track({type:"click",canTrack:c.getDefaultCanTrack(e.canTrack),contentId:s,apiKey:e.apiKey,variationId:d!==s?d:void 0,...ce(l),unique:!w})}w||R(!0)}function h(){var f,x,d;const l=(d=(x=(f=e.builderContextSignal.content)==null?void 0:f.data)==null?void 0:x.httpRequests)!=null?d:{};Object.entries(l).forEach(([s,T])=>{if(!T||C[s]||r[s]&&!c.isEditing())return;C[s]=!0;const W=T.replace(/{{([^}]+)}}/g,(E,M)=>String(V.evaluate({code:M,context:e.context||{},localState:void 0,rootState:e.builderContextSignal.rootState,rootSetState:e.builderContextSignal.rootSetState,enableCache:!0})));c.fetch(W).then(E=>E.json()).then(E=>{n({[s]:E}),r[s]=!0}).catch(E=>{console.error("error fetching dynamic data",T,E)}).finally(()=>{C[s]=!1})})}function b(){c.isEditing()&&window.dispatchEvent(new CustomEvent("builder:component:stateChange",{detail:{state:c.fastClone(e.builderContextSignal.rootState),ref:{name:e.model}}}))}return g.useEffect(()=>{var l,f;if(c.isBrowser()){if(c.isEditing()&&(window.addEventListener("message",i),c.setupBrowserForEditing({...e.locale?{locale:e.locale}:{},...e.enrich?{enrich:e.enrich}:{},...e.trustedHosts?{trustedHosts:e.trustedHosts}:{}}),Object.values(e.builderContextSignal.componentInfos).forEach(d=>{var T;const s=c.createRegisterComponentMessage(d);(T=window.parent)==null||T.postMessage(s,"*")}),window.addEventListener("builder:component:stateChangeListenerActivated",b)),e.builderContextSignal.content&&c.getDefaultCanTrack(e.canTrack)){const d=(l=e.builderContextSignal.content)==null?void 0:l.testVariationId,s=(f=e.builderContextSignal.content)==null?void 0:f.id,T=e.apiKey;c._track({type:"impression",canTrack:!0,contentId:s,apiKey:T,variationId:d!==s?d:void 0})}if(c.isPreviewing()){const d=new URL(location.href).searchParams,s=d.get("builder.preview"),T=d.get(`builder.preview.${s}`),W=d.get("apiKey")||d.get("builder.space");s===e.model&&W===e.apiKey&&(!e.content||T===e.content.id)&&c.fetchOneEntry({model:e.model,apiKey:e.apiKey,apiVersion:e.builderContextSignal.apiVersion}).then(E=>{E&&o(E)})}}},[]),g.useEffect(()=>{e.apiKey||c.logger.error("No API key provided to `RenderContent` component. This can cause issues. Please provide an API key using the `apiKey` prop."),a(),h(),b()},[]),g.useEffect(()=>{e.content&&o(e.content)},[e.content]),g.useEffect(()=>{a()},[(I=(k=e.builderContextSignal.content)==null?void 0:k.data)==null?void 0:I.jsCode]),g.useEffect(()=>{h()},[($=(N=e.builderContextSignal.content)==null?void 0:N.data)==null?void 0:$.httpRequests]),g.useEffect(()=>{b()},[e.builderContextSignal.rootState]),g.useEffect(()=>{e.data&&n(e.data)},[e.data]),g.useEffect(()=>{e.locale&&n({locale:e.locale})},[e.locale]),g.useEffect(()=>()=>{c.isBrowser()&&(window.removeEventListener("message",i),window.removeEventListener("builder:component:stateChangeListenerActivated",b))},[]),y.jsx(V.builderContext.Provider,{value:e.builderContextSignal,children:e.builderContextSignal.content?y.jsx(u,{ref:t,onClick:l=>m(l),"builder-content-id":(F=e.builderContextSignal.content)==null?void 0:F.id,"builder-model":e.model,...e.showContent?{}:{hidden:!0,"aria-hidden":!0},...e.contentWrapperProps,className:`variant-${((H=e.content)==null?void 0:H.testVariationId)||((_=e.content)==null?void 0:_.id)}`,children:e.children}):null})}const ue=e=>{var S,i;const t=e.family+(e.kind&&!e.kind.includes("#")?", "+e.kind:""),n=t.split(",")[0],o=(i=e.fileUrl)!=null?i:(S=e==null?void 0:e.files)==null?void 0:S.regular;let u="";if(o&&t&&n&&(u+=`
@font-face {
font-family: "${t}";
src: local("${n}"), url('${o}') format('woff2');
font-display: fallback;
font-weight: 400;
}
      `.trim()),e.files)for(const a in e.files){if(!(String(Number(a))===a))continue;const v=e.files[a];v&&v!==o&&(u+=`
@font-face {
font-family: "${t}";
src: url('${v}') format('woff2');
font-display: fallback;
font-weight: ${a};
}
        `.trim())}return u},me=({customFonts:e})=>{var t;return((t=e==null?void 0:e.map(n=>ue(n)))==null?void 0:t.join(" "))||""},fe=({cssCode:e,contentId:t})=>e?t?(e==null?void 0:e.replace(/&/g,`div[builder-content-id="${t}"]`))||"":e:"",ge=`
.builder-button {
  all: unset;
}

.builder-text > p:first-of-type, .builder-text > .builder-paragraph:first-of-type {
  margin: 0;
}
.builder-text > p, .builder-text > .builder-paragraph {
  color: inherit;
  line-height: inherit;
  letter-spacing: inherit;
  font-weight: inherit;
  font-size: inherit;
  text-align: inherit;
  font-family: inherit;
}
`,he=e=>e?"":ge;function be(e){const[t,n]=g.useState(()=>`
${fe({cssCode:e.cssCode,contentId:e.contentId})}
${me({customFonts:e.customFonts})}
${he(e.isNestedRender)}
`.trim());return y.jsx(V.InlinedStyles,{id:"builderio-content",styles:t})}const Se=({content:e,data:t,locale:n})=>{var S,i,a;const o={},u=((S=e==null?void 0:e.data)==null?void 0:S.state)||{};return(a=(i=e==null?void 0:e.data)==null?void 0:i.inputs)==null||a.forEach(r=>{r.name&&r.defaultValue!==void 0&&(o[r.name]=r.defaultValue)}),{...o,...u,...t,...n?{locale:n}:{}}},xe=({content:e,data:t})=>e?{...e,data:{...e==null?void 0:e.data,...t},meta:e==null?void 0:e.meta}:void 0;function q(e){var r,v,C,A,w,R,m;const[t,n]=g.useState(()=>{var h,b;return re({variationId:(h=e.content)==null?void 0:h.testVariationId,contentId:(b=e.content)==null?void 0:b.id})});function o(h){a(b=>({...b,rootState:h}))}const[u,S]=g.useState(()=>[...K(),...e.customComponents||[]].reduce((h,{component:b,...k})=>({...h,[k.name]:{component:b,...c.serializeComponentInfo(k)}}),{})),[i,a]=g.useState(()=>({content:xe({content:e.content,data:e.data}),localState:void 0,rootState:Se({content:e.content,data:e.data,locale:e.locale}),rootSetState:o,context:e.context||{},apiKey:e.apiKey,apiVersion:e.apiVersion,componentInfos:[...K(),...e.customComponents||[]].reduce((h,{component:b,...k})=>({...h,[k.name]:c.serializeComponentInfo(k)}),{}),inheritedStyles:{},BlocksWrapper:e.blocksWrapper||"div",BlocksWrapperProps:e.blocksWrapperProps||{}}));return y.jsx(V.ComponentsContext.Provider,{value:{registeredComponents:u},children:y.jsxs(de,{content:e.content,data:e.data,model:e.model,context:e.context,apiKey:e.apiKey,canTrack:e.canTrack,locale:e.locale,enrich:e.enrich,showContent:e.showContent,builderContextSignal:i,contentWrapper:e.contentWrapper,contentWrapperProps:e.contentWrapperProps,linkComponent:e.linkComponent,trustedHosts:e.trustedHosts,setBuilderContextSignal:a,children:[e.isSsrAbTest?y.jsx(j,{id:"builderio-variant-visibility",scriptStr:t}):null,y.jsx(be,{isNestedRender:e.isNestedRender,contentId:(r=i.content)==null?void 0:r.id,cssCode:(C=(v=i.content)==null?void 0:v.data)==null?void 0:C.cssCode,customFonts:(w=(A=i.content)==null?void 0:A.data)==null?void 0:w.customFonts}),y.jsx(V.Blocks,{blocks:(m=(R=i.content)==null?void 0:R.data)==null?void 0:m.blocks,context:i,registeredComponents:u,linkComponent:e.linkComponent})]})})}function ye(e){var i;const[t,n]=g.useState(()=>ne({canTrack:c.getDefaultCanTrack(e.canTrack),content:e.content}));function o(){var a;return oe(p(e.content).map(r=>({id:r.testVariationId,testRatio:r.testRatio})),((a=e.content)==null?void 0:a.id)||"")}function u(){return p(e.content).map(a=>`.variant-${a.testVariationId} { display: none; } `).join("")}function S(){var a;return t?{...e.content,testVariationId:(a=e.content)==null?void 0:a.id}:c.handleABTestingSync({item:e.content,canTrack:c.getDefaultCanTrack(e.canTrack)})}return g.useEffect(()=>{},[]),y.jsxs(y.Fragment,{children:[!e.isNestedRender&&c.TARGET!=="reactNative"?y.jsx(j,{id:"builderio-init-variants-fns",scriptStr:ae()}):null,t?y.jsxs(y.Fragment,{children:[y.jsx(V.InlinedStyles,{id:"builderio-variants",styles:u()}),y.jsx(j,{id:"builderio-variants-visibility",scriptStr:o()}),(i=p(e.content))==null?void 0:i.map(a=>y.jsx(q,{isNestedRender:e.isNestedRender,content:a,showContent:!1,model:e.model,data:e.data,context:e.context,apiKey:e.apiKey,apiVersion:e.apiVersion,customComponents:e.customComponents,linkComponent:e.linkComponent,canTrack:e.canTrack,locale:e.locale,enrich:e.enrich,isSsrAbTest:t,blocksWrapper:e.blocksWrapper,blocksWrapperProps:e.blocksWrapperProps,contentWrapper:e.contentWrapper,contentWrapperProps:e.contentWrapperProps,trustedHosts:e.trustedHosts},a.testVariationId))]}):null,y.jsx(q,{isNestedRender:e.isNestedRender,content:S(),showContent:!0,model:e.model,data:e.data,context:e.context,apiKey:e.apiKey,apiVersion:e.apiVersion,customComponents:e.customComponents,linkComponent:e.linkComponent,canTrack:e.canTrack,locale:e.locale,enrich:e.enrich,isSsrAbTest:t,blocksWrapper:e.blocksWrapper,blocksWrapperProps:e.blocksWrapperProps,contentWrapper:e.contentWrapper,contentWrapperProps:e.contentWrapperProps,trustedHosts:e.trustedHosts})]})}exports.default=ye;
